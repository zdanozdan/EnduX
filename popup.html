<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EnduX Formularz</title>

    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">

    <link rel="stylesheet" href="popup.css"> <!-- Your custom styles (optional) -->
</head>
<body style="min-width:450px">
  <div class="container mt-4">
        <!-- Extension Enable/Disable Toggle -->
        <div class="mb-3 p-3 bg-light border rounded">
            <div class="form-check form-switch">
                <input class="form-check-input" type="checkbox" id="extensionEnabled" checked>
                <label class="form-check-label" for="extensionEnabled">
                    <strong>Włącz rozszerzenie EnduX</strong>
                </label>
            </div>
            <small class="text-muted">Włącza/wyłącza przyciski kopiowania tabel i menu kontekstowe</small>
        </div>

        <!-- Bootstrap Tabs -->
        <ul class="nav nav-tabs" id="myTab" role="tablist">
            <li class="nav-item" role="presentation">
                <a class="nav-link active" id="nowe-tab" data-bs-toggle="tab" href="#nowe" role="tab" aria-controls="nowe" aria-selected="true">Zgłoszenie</a>
            </li>
            <li class="nav-item" role="presentation">
                <a class="nav-link" id="from-list-tab" data-bs-toggle="tab" href="#from-list" role="tab" aria-controls="from-list" aria-selected="false">Zgłoszenia</a>
            </li>
            <li class="nav-item" role="presentation">
                <a class="nav-link" id="ustawienia-tab" data-bs-toggle="tab" href="#ustawienia" role="tab" aria-controls="ustawienia" aria-selected="false">Ustawienia</a>
            </li>
            <li class="nav-item" role="presentation">
                <a class="nav-link" id="logowanie-tab" data-bs-toggle="tab" href="#logowanie" role="tab" aria-controls="logowanie" aria-selected="false">Logowanie</a>
            </li>
        </ul>

	<!-- Response message (loading, error, or success) -->
	<div class='alert alert-info' id="responseMessage" class="text-center" style="display: none;"></div>

        <!-- Tab Content -->
        <div class="tab-content mt-4" id="myTabContent">
            <!-- "Zgłoszenie" Tab (Form) -->
            <div class="tab-pane fade show active" id="nowe" role="tabpanel" aria-labelledby="nowe-tab">
              <!-- Container where the fetched form will be inserted -->
              <div id="formContainer">
                <!-- The form will be injected here -->
              </div>
            </div>
	    
            <!-- "Z Listy" Tab (Events List) -->
            <div class="tab-pane fade" id="from-list" role="tabpanel" aria-labelledby="from-list-tab">
              <h3>Lista zgłoszeń</h3>
	      <!-- Dropdown (Empty initially) -->
              <div class="mb-3">
		<label for="userSubmits" class="form-label">Wybierz zgłoszenie</label>
		<select class="form-select" id="userSubmits" aria-label="Select Event">
                  <!-- Options will be populated dynamically -->
		</select>
              </div>
	      <!-- Test Button -->
	      <button id="selectButton" class="btn btn-primary">Wypełnij formularz</button>
            </div>
            
            <!-- "Ustawienia" Tab -->
            <div class="tab-pane fade" id="ustawienia" role="tabpanel" aria-labelledby="ustawienia-tab">
              <h3>Ustawienia</h3>
              
              <div class="mb-3 p-3 bg-light border rounded">
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" id="preventDuplicates" checked>
                    <label class="form-check-label" for="preventDuplicates">
                        <strong>Zapobiegaj duplikatom</strong>
                    </label>
                </div>
                <small class="text-muted">Ostrzega i blokuje dołączanie tej samej tabeli dwukrotnie</small>
              </div>

              <div class="mb-3 p-3 bg-light border rounded">
                <div class="form-check form-switch">
                    <input class="form-check-input" type="checkbox" id="autoAppend">
                    <label class="form-check-label" for="autoAppend">
                        <strong>Auto-dołączanie</strong>
                    </label>
                </div>
                <small class="text-muted">Automatycznie dołącza nową stronę do schowka po wykryciu paginacji</small>
              </div>

              <div class="mb-3 p-3 bg-light border rounded">
                <h6 class="mb-2">Auto-Crawler</h6>
                <div class="input-group input-group-sm mb-2">
                  <span class="input-group-text">Klasa "Dalej"</span>
                  <input type="text" class="form-control" id="crawlerClass" placeholder="np. next-page">
                </div>
                <div class="form-check form-switch mb-2">
                  <input class="form-check-input" type="checkbox" id="crawlerActive">
                  <label class="form-check-label" for="crawlerActive">
                    <strong>Uruchom Crawler</strong>
                  </label>
                </div>
                <small class="text-muted d-block">Automatycznie klika "Dalej" po skopiowaniu tabeli, aż do końca danych.</small>
              </div>

              <div class="mb-3 p-3 bg-light border rounded">
                <button id="clearClipboard" class="btn btn-sm btn-outline-danger">Wyczyść schowek</button>
                <small class="text-muted d-block mt-1">Czyści zapisaną zawartość schowka (używane przy dołączaniu)</small>
              </div>
              
              <div class="mt-4 pt-3 border-top text-center">
                <small class="text-muted">Wersja: <span id="version">-</span></small>
              </div>
            </div>
            
            <!-- "Logowanie" Tab -->
            <div class="tab-pane fade" id="logowanie" role="tabpanel" aria-labelledby="logowanie-tab">
              <h3>Logowanie</h3>
              
              <div class="mb-3">
                <label for="loginName" class="form-label">Nazwa</label>
                <input type="text" class="form-control" id="loginName" placeholder="Wprowadź nazwę">
              </div>
              
              <div class="mb-3">
                <label for="loginPassword" class="form-label">Hasło</label>
                <input type="password" class="form-control" id="loginPassword" placeholder="Wprowadź hasło">
              </div>
              
              <button id="loginButton" class="btn btn-primary">Zaloguj</button>
            </div>
        </div>
    </div>

    <!-- Bootstrap 5 JS and Popper.js -->
    <script src="node_modules/jquery/dist/jquery.slim.min.js"></script>
    <script src="node_modules//@popperjs/core/dist/umd/popper.min.js"></script>
    <script src="node_modules/bootstrap/dist/js/bootstrap.bundle.min.js"></script>

    <script src="popup.js"></script> <!-- Your custom JavaScript (optional) -->
</body>
</html>
